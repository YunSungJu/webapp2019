<!DOCTYPE html>
<html lang="en">

	
<!-- Mirrored from selab.hanyang.ac.kr/courses/cse326/2019/lecture/13-webServices.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Nov 2019 07:39:30 GMT -->
<head>
		<!-- metadata -->
		<meta charset="utf-8" />
		<meta name="author" content="Scott Uk-Jin Lee" />
		<meta name="description" content="Web lecture slides for CSE3026: Web Application Development." />
		<meta name="keywords" content="Hanyang university, cse3026, web application development, lecture, html, css, javascript, dom, ajax, xml, php, jsp" />
		
		<!-- style sheet links -->
		<link rel="stylesheet" href="ui/default/slides.css" type="text/css" media="screen" id="slideProj" />
		<link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
		<link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
		<link rel="shortcut icon" href="images/SelabFavicon.png" type="image/png" />
 
		<!-- S5 JS -->
		<script src="../../../../../ajax.googleapis.com/ajax/libs/prototype/1.7.3.0/prototype.js" type="text/javascript"></script>
		<script src="../../../../../ajax.googleapis.com/ajax/libs/scriptaculous/1.9.0/scriptaculous.js" type="text/javascript"></script>
		<script src="resources/slides.js" type="text/javascript"></script>
		<script src="ui/default/slides.js" type="text/javascript"></script>
		
		<title>CSE3026 - 13. Web Services</title>
	</head>

	<body>
		<div class="layout">
			<div id="controls"><!-- DO NOT EDIT --></div>
			<div id="currentSlide"><!-- DO NOT EDIT --></div>
			<div id="header"></div>
			<div id="footer">
				<h1>CSE3026: Web Application Development</h1>
				<h2>13. Web Services</h2>
			</div>
		</div>
	
		<div class="presentation">
			<div class="slide">			
				<h1><span class="smallerFont">CSE3026: Web Application Development</span> <br/> <strong>Web Services</strong></h1>			
				<br/>
				<h2>Scott Uk-Jin Lee</h2>
							
				<p class="license"> 				
					Reproduced with permission of the authors.
					Copyright 2012 Marty Stepp, Jessica Miller, and Victoria Kirst.
					All rights reserved. 
					Further reproduction or distribution is prohibited without written permission.
				</p>
				
				<div class="w3c">
					<a href="https://validator.w3.org/check/referer"><img src="images/w3c-html.png" alt="Valid HTML 5" /></a>
					<a href="https://jigsaw.w3.org/css-validator/check/referer"><img src="images/w3c-css.png" alt="Valid CSS!" /></a>
				</div>
			</div>


			
<div class="slide">
	<h1>What is &quot;Web 2.0&quot;?</h1>

	<div class="figure">
		<img src="images/web-2-0.gif" alt="web 2.0" />
	</div>

	<ul>
		<li>
			<strong>Web 2.0</strong>: A set of ideas and technologies for creating modern, interactive web applications

			<ul>
				<li>
					Ajax, multimedia, streaming, stateful pages, cookies, user-generated content, web services, ...
				</li>
			</ul>
		</li>
	</ul>
</div>



<div class="slide">
	<h1>What is a web service?</h1>

	<p>
		<span class="term">web service</span>: software functionality that can be invoked through the internet using common protocols
	</p>

	<ul>
		<li>like a remote function(s) you can call by contacting a program on a web server</li>
		<li>many web services accept parameters and produce results</li>
		<li>can be written in PHP and contacted by the browser in HTML and/or Ajax code</li>
		<li>service's output might be HTML but could be text, XML, JSON or other content</li>
	</ul>
</div>



<div class="slide">
	<h1>Setting content type with <code>header</code></h1>

	<pre class="syntaxtemplate php">
header(&quot;Content-type: <var>type</var>/<var>subtype</var>&quot;);
</pre>

	<pre class="examplecode php">
<em>header(&quot;Content-type: text/plain&quot;);</em>
print &quot;This output will appear as plain text now!\n&quot;;
</pre>

	<ul>
		<li>by default, a PHP file's output is assumed to be HTML (text/html)</li>
		<li>use the <a href="http://www.php.net/header"><code>header</code></a> function to specify non-HTML output
			<ul>
				<li>must appear before any other output generated by the script</li>
			</ul>
		</li>
	</ul>
</div>



<div class="slide">
	<h1>
		Recall: Content (&quot;<a href="http://en.wikipedia.org/wiki/Mime_type">MIME</a>&quot;) types
	</h1>

	<table class="standard">
		<tr>
			<th>MIME type</th>
			<th class="slidetable">related file extension</th>
		</tr>
		<tr class="code">
			<td><strong>application/json</strong></td><td></td>
		</tr>
		<tr class="code">
			<td><strong>text/plain</strong></td><td>.txt</td>
		</tr>
		<tr class="code">
			<td><strong>text/html</strong></td><td>.html, .htm, ...</td>
		</tr>
		<tr class="code">
			<td><strong>text/xml</strong></td><td>.xml</td>
		</tr>
		<tr class="code">
			<td>text/css</td><td>.css</td>
		</tr>
		<tr class="code">
			<td>text/javascript</td><td>.js</td>
		</tr>
		<tr class="code">
			<td>image/gif</td><td>.gif</td>
		</tr>
	</table>

	<ul>
		<li>Lists of MIME types: <a href="http://www.webmaster-toolkit.com/mime-types.shtml">by extension</a></li>
	</ul>
</div>



<div class="slide">
	<h1>Example: Exponent web service</h1>

	<ul>
		<li>
			Write a web service that accepts a <code>base</code> and <code>exponent</code> and outputs <code>base</code> raised to the <code>exponent</code> power.  For example, the following query should output <code>81</code> :

			<pre class="examplecode url">
http://example.com/exponent.php?<em>base=3</em>&amp;<em>exponent=4</em>
</pre>
		</li>

		<li class="incremental">
			solution:

			<pre class="examplecode php">
&lt;?php
header(&quot;Content-type: text/plain&quot;);
$base = (int) $_GET[&quot;base&quot;];
$exp  = (int) $_GET[&quot;exponent&quot;];
$result = pow($base, $exp);
print $result;
?&gt;
</pre>
		</li>
	</ul>
</div>



<div class="slide">
	<h1>Using <code>header</code> to redirect between pages</h1>

	<pre class="syntaxtemplate php">
header(&quot;Location: <var>url</var>&quot;);
</pre>

	<pre class="examplecode php">
if (!user_is_logged_in()) {
	<em>header(&quot;Location: user-login.php&quot;);</em>
}
</pre>

	<ul>
		<li>you can use <code>header</code> to tell the browser to redirect itself to another page
			<ul>
				<li>must appear before any other output generated by the script</li>
			</ul>
		</li>
	</ul>
</div>



<div class="slide">
	<h1>Exercise: (&quot;<a href="examples/13WebServices/babyNames.zip">Baby name web service</a>&quot;)</h1>

	<ul>
		<li>
			Write a web service that accepts a <code>name</code> and <code>gender</code> and finds and outputs the line from text file <code>rank.txt</code> with information about that name:

			<pre class="examplecode txt">
Aaron m 147 193 187 199 250 237 230 178 52 34 34 41 55
Lisa f 0 0 0 0 0 733 220 6 2 16 64 295 720
...
</pre>
		</li>
		
		<li>
			For the following call:
			
			<pre class="examplecode url">
http://example.com/babynames.php?<em>name=Lisa</em>&amp;<em>gender=f</em>
</pre>
		</li>
		
		<li>
			The service should output the following line:

			<pre class="examplecode txt">
Lisa f 0 0 0 0 0 733 220 6 2 16 64 295 720
</pre>
		</li>
	</ul>
</div>



<div class="slide">
	<h1>What about errors?</h1>

	<ul>
		<li>
			What if the user doesn't pass an important parameter?
			
			<pre class="examplecode url">
http://example.com/babynames.php?<em class="bad">gender=f</em>               (no name passed!)
</pre>
		</li>
		
		<li>
			What if the user passes a name that is not found in the file?
			
			<pre class="examplecode url">
http://example.com/babynames.php?<em class="bad">name=Borat</em>&amp;gender=m    (not found in file)
</pre>
		</li>
		
		<li>
			What is the appropriate behavior for the web service?
		</li>
	</ul>
</div>



<div class="slide">
	<h1>Reporting errors</h1>

	<ul>
		<li>web service should return an HTTP "error code" to the browser, possibly followed by output
			<ul>
				<li>
					error messages (<code>print</code>) are not ideal, because they could be confused for normal output
				</li>
				<li>
					these are the codes you see in Firebug's console and in your Ajax request's <code>status</code> property
				</li>
			</ul>

			<table class="standard compressed">
				<tr>
					<th class="spaced">HTTP code</th><th>Meaning</th>
				</tr>
				<tr>
					<td>200</td>
					<td>OK</td>
				</tr>
				<tr>
					<td>301-303</td>
					<td>page has moved (permanently or temporarily)</td>
				</tr>
				<tr>
					<td>400</td>
					<td>illegal request</td>
				</tr>
				<tr>
					<td>401</td>
					<td>authentication required</td>
				</tr>
				<tr>
					<td>403</td>
					<td>you are forbidden to access this page</td>
				</tr>
				<tr>
					<td>404</td>
					<td>page not found</td>
				</tr>
				<tr>
					<td>410</td>
					<td>gone; missing data or resource</td>
				</tr>
				<tr>
					<td>500</td>
					<td>internal server error</td>
				</tr>
				<tr>
					<td colspan="2" class="completelist"><a href="http://en.wikipedia.org/wiki/Http_error_codes">complete list</a></td>
				</tr>
			</table>
		</li>
	</ul>
</div>



<div class="slide">
	<h1>Using headers for HTTP error codes</h1>

	<pre class="syntaxtemplate php">
header(&quot;HTTP/1.1  <var>code</var>  <var>description</var>&quot;);
</pre>

	<pre class="examplecode php">
if ($_GET[&quot;foo&quot;] != &quot;bar&quot;) {
	<span class="comment"># I am not happy with the value of foo; this is an error</span>
	<em>header(&quot;HTTP/1.1 400 Invalid Request&quot;);</em>
	die(&quot;An HTTP error 400 (invalid request) occurred.&quot;);
}
</pre>

	<pre class="examplecode php">
if (!file_exists($input_file_path)) {
	<em>header(&quot;HTTP/1.1 404 File Not Found&quot;);</em>
	die(&quot;HTTP error 404 occurred: File not found ($input_file_path)&quot;);
}
</pre>

	<ul>
		<li>
			<code>header</code> can also be used to send back HTTP error codes

			<ul>
				<li><code>header(&quot;HTTP/1.1 403 Forbidden&quot;);</code></li>
				<li><code>header(&quot;HTTP/1.1 404 File Not Found&quot;);</code></li>
				<li><code>header(&quot;HTTP/1.1 500 Server Error&quot;);</code></li>
			</ul>
		</li>
	</ul>
</div>



<div class="slide">
	<h1>Checking for a mandatory query parameter</h1>

	<pre class="examplecode php">
function get_query_param($name) {
	if (!isset($_GET[$name])) {
		header("HTTP/1.1 400 Invalid Request");
		die("HTTP/1.1 400 Invalid Request: missing required parameter '$name'");
	}
	if ($_GET[$name] == "") {
		header("HTTP/1.1 400 Invalid Request");
		die("HTTP/1.1 400 Invalid Request: parameter '$name' must be non-empty");
	}
	return $_GET[$name];
}
</pre>
</div>



<div class="slide">
	<h1>The <a href="http://www.php.net/manual/en/reserved.variables.server.php"><code>$_SERVER</code></a> superglobal array</h1>

	<table class="standard">
		<tr>
			<th>index</th>
			<th>description</th>
			<th>example</th>
		</tr>

		<tr>
			<td><code>$_SERVER[&quot;SERVER_NAME&quot;]</code></td>
			<td>name of this web server</td>
			<td><code>&quot;www.hanyang.ac.kr&quot;</code></td>
		</tr>

		<tr>
			<td><code>$_SERVER[&quot;SERVER_ADDR&quot;]</code></td>
			<td>IP address of web server</td>
			<td><code>&quot;166.203.253.194&quot;</code></td>
		</tr>

		<tr>
			<td><code>$_SERVER[&quot;REMOTE_HOST&quot;]</code></td>
			<td>user's domain name</td>
			<td><code>&quot;selab.hanyang.ac.kr&quot;</code></td>
		</tr>

		<tr>
			<td><code>$_SERVER[&quot;REMOTE_ADDR&quot;]</code></td>
			<td>user's IP address</td>
			<td><code>&quot;186.205.232.161&quot;</code></td>
		</tr>

		<tr>
			<td><code>$_SERVER[&quot;HTTP_USER_AGENT&quot;]</code></td>
			<td>user's web browser</td>
			<td><code>&quot;Mozilla/5.0 (Windows; ...&quot;</code></td>
		</tr>

		<tr>
			<td><code>$_SERVER[&quot;HTTP_REFERER&quot;]</code></td>
			<td>where user was before this page</td>
			<td><code>&quot;http://www.google.com/&quot;</code></td>
		</tr>

		<tr>
			<td><code>$_SERVER[&quot;REQUEST_METHOD&quot;]</code></td>
			<td>HTTP method used to contact server</td>
			<td><code>&quot;GET&quot;</code> or <code>&quot;POST&quot;</code></td>
		</tr>
	</table>

	<ul>
		<li>
			call <a href="http://www.php.net/phpinfo"><code>phpinfo();</code></a> to see a complete list
		</li>
	</ul>
</div>



<div class="slide">
	<h1>GET or POST?</h1>

	<pre class="examplecode php">
if (<em>$_SERVER[&quot;REQUEST_METHOD&quot;]</em> == "GET") {
	<span class="comment"># process a GET request</span>
	<var>...</var>
} elseif (<em>$_SERVER[&quot;REQUEST_METHOD&quot;]</em> == "POST") {
	<span class="comment"># process a POST request</span>
	<var>...</var>
}
</pre>

	<ul>
		<li>some web services process both GET and POST requests</li>
		<li>to find out which kind of request we are currently processing, <br />
		look at the global <code>$_SERVER</code> array's <code>&quot;REQUEST_METHOD&quot;</code> element</li>
	</ul>
</div>



<div class="slide">
	<h1>Emitting partial-page HTML data</h1>

	<pre class="examplecode php">
<span class="comment"># suppose my web service accepts a &quot;type&quot; query parameter ...</span>
&lt;?php if ($_GET[&quot;type&quot;] == &quot;html&quot;) { ?&gt;
	<em>&lt;ul&gt;</em>
		&lt;?php foreach ($students as $kid) { ?&gt;
			<em>&lt;li&gt; &lt;?= $kid ?&gt; &lt;/li&gt;</em>
		&lt;?php } ?&gt;
	<em>&lt;/ul&gt;</em>
&lt;?php } ?&gt;
</pre>

	<ul>
		<li>
			some web services do output HTML, but not a complete page
		</li>
		<li>
			the partial-page HTML is meant to be fetched by Ajax and injected into an existing page
		</li>
	</ul>
</div>



<div class="slide">
	<h1>Exercise: Baby name web service XML</h1>

	<ul>
		<li>
			Modify the <code>babynames.php</code> service to produce its output as XML.  For the data:

			<pre class="examplecode txt">
Morgan m 375 410 392 478 579 507 636 499 446 291 278 332 518
</pre>
		</li>
		
		<li>
			The service should output the following XML:

			<pre class="examplecode txt">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;baby name=&quot;Morgan&quot; gender=&quot;m&quot;&gt;
	&lt;rank year=&quot;1890&quot;&gt;375&lt;/rank&gt;
	&lt;rank year=&quot;1900&quot;&gt;410&lt;/rank&gt;
	...
	&lt;rank year=&quot;2010&quot;&gt;518&lt;/rank&gt;
&lt;/baby&gt;
</pre>
		</li>
	</ul>
</div>



<div class="slide">
	<h1>Emitting XML data manually</h1>

	<pre class="examplecode php">
...
header(&quot;Content-type: text/xml&quot;);
print &quot;<em>&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;</em>\n&quot;;
print &quot;<em>&lt;books&gt;</em>\n&quot;;
foreach ($books as $book) {
	print &quot;  <em>&lt;book title=\&quot;{$book['title']}\&quot; author=\&quot;{$book['author']}\&quot; /&gt;</em>\n&quot;;
}
print &quot;<em>&lt;/books&gt;</em>\n&quot;;
</pre>

	<ul>
		<li>
			specify a content type of <code>text/xml</code> or <code>application/xml</code>
		</li>
		<li>
			print an XML prologue (the <code>&lt;?xml</code> line), then print XML data as output
			<ul>
				<li>
					<strong>important:</strong> no whitespace output can precede the prologue; must be <code>print</code>ed
				</li>
			</ul>
		</li>
		<li>
			messy; bad to embed XML syntax in <code>print</code>s; write-only (hard to read existing XML data)
		</li>
	</ul>
</div>



<div class="slide">
	<h1>PHP's XML DOM: DOMDocument</h1>
	
	<p>
		The PHP <a class="popup" href="http://php.net/manual/en/class.domdocument.php"><code>DOMDocument</code></a> class represents an XML document.  It has these methods:
	</p>
	
	<table class="standard compressed">
		<tr>
			<td>
				<code>createElement(<var>tag</var>)</code>
			</td>
			<td>
				create a new element node to add to the document
			</td>
		</tr>
		<tr>
			<td>
				<code>createTextNode(<var>text</var>)</code>
			</td>
			<td>
				create a new text node to add to the document
			</td>
		</tr>
		<tr>
			<td>
				<code>getElementById(<var>id</var>)</code>, <br />
				<code>getElementsByTagName(<var>tag</var>)</code>
			</td>
			<td>
				search for elements in the document
			</td>
		</tr>
		<tr>
			<td>
				<code>load(<var>filename</var>)</code>, <br />
				<code>loadXML(<var>string</var>)</code>
			</td>
			<td>
				read XML data from a file on disk or from a string
			</td>
		</tr>
		<tr>
			<td>
				<code>save(<var>filename</var>)</code>, <br />
				<code>saveXML()</code>
			</td>
			<td>
				write XML data to a file on disk or returns it as a string
			</td>
		</tr>
		<tr>
			<td>
				<code>validate()</code>
			</td>
			<td>
				return whether the current document consists of valid XML data
			</td>
		</tr>
	</table>
</div>



<div class="slide">
	<h1>PHP's XML DOM: DOMElement</h1>
	
	<p>
		The PHP <a class="popup" href="http://www.php.net/manual/en/class.domelement.php"><code>DOMElement</code></a> class represents each DOM element.  It has these fields/methods:
	</p>
	
	<table class="standard compressed">
		<tr>
			<td>
				<code>tagName</code>, <code>nodeValue</code>
			</td>
			<td>
				node's name (tag) and value (text)
			</td>
		</tr>
		<tr>
			<td>
				<code>parentNode</code>, <code>childNodes</code>, <br />
				<code>firstChild</code>, <code>lastChild</code>, <br />
				<code>previousSibling</code>, <code>nextSibling</code>
			</td>
			<td>
				references to nearby nodes
			</td>
		</tr>
		<tr>
			<td>
				<code>appendChild(<var>DOMNode</var>)</code>, <br />
				<code>insertBefore(<var>newNode</var>, <var>oldNode</var>)</code>, <br />
				<code>removeChild(<var>DOMNode</var>)</code>
			</td>
			<td>
				manipulate this node's list of children
			</td>
		</tr>
		<tr>
			<td>
				<code>getElementsByTagName(<var>tag</var>)</code>
			</td>
			<td>
				search for descendent elements within this element
			</td>
		</tr>
		<tr>
			<td>
				<code>getAttribute(<var>name</var>)</code>, <br />
				<code>setAttribute(<var>name</var>, <var>value</var>)</code>, <br />
				<code>removeAttribute(<var>name</var>)</code>
			</td>
			<td>
				get/set the value of an attribute on this tag
			</td>
		</tr>
	</table>
</div>



<div class="slide">
	<h1>PHP XML DOM example</h1>

	<pre class="examplecode php">
...
$xmldoc = new DOMDocument();                          <span class="comment"># &lt;?xml version=&quot;1.0&quot;?&gt;</span>
$books_tag = $xmldoc-&gt;createElement(&quot;books&quot;);
$xmldoc-&gt;appendChild($books_tag);                     <span class="comment"># &lt;books&gt;</span>
foreach ($books as $book) {                                  
	$book_tag = $xmldoc-&gt;createElement(&quot;book&quot;);         <span class="comment">#   &lt;book</span>
	$book_tag-&gt;setAttribute(&quot;title&quot;, $book["title"]);   <span class="comment">#    title=&quot;Harry Potter&quot; /&gt;</span>
	$book_tag-&gt;setAttribute(&quot;author&quot;, $book["author"]); <span class="comment">#    author=&quot;J.K. Rowling&quot; /&gt;</span>
	$books_tag-&gt;appendChild($book_tag);                      
}                                                     <span class="comment"># &lt;/books&gt;</span>
header(&quot;Content-type: text/xml&quot;);
print $xmldoc-&gt;saveXML();
</pre>
	
	<ul>
		<li>much easier to read/write/manipulate complex XML</li>
		<li><code>saveXML</code> automatically inserts the XML prolog for us</li>
	</ul>
</div>



<div class="slide">
	<h1>Exercise solution: Baby name web service XML</h1>

	<pre class="examplecode php compressed">
# takes a line of rankings and produces XML in the specified format
# example:  Aaron m 147 193 187 199 250 237 230 178 52 34 34 41 55
function generate_xml($line, $name, $gender) {
	$xmldom = new DOMDocument();
	$baby_tag = $xmldom-&gt;createElement(&quot;baby&quot;);     # &lt;baby&gt;
	$baby_tag-&gt;setAttribute(&quot;name&quot;, $name);
	$baby_tag-&gt;setAttribute(&quot;gender&quot;, $gender);
	
	$year = 1890;
	$tokens = explode(&quot; &quot;, $line);
	for ($i = 2; $i &lt; count($tokens); $i++) {
		$rank_tag = $xmldom-&gt;createElement(&quot;rank&quot;);   # &lt;rank&gt;
		$rank_tag-&gt;setAttribute(&quot;year&quot;, $year);
		$rank_tag-&gt;appendChild($xmldom-&gt;createTextNode($tokens[$i]));
		$baby_tag-&gt;appendChild($rank_tag);
		$year += 10;
	}
	
	$xmldom-&gt;appendChild($baby_tag);
	return $xmldom;
}
</pre>
</div>



<div class="slide">
	<h1>Exercise: Baby name web service JSON</h1>

	<ul>
		<li>
			Modify the <code>babynames.php</code> service to produce its output as JSON.  For the data:

			<pre class="examplecode txt">
Morgan m 375 410 392 478 579 507 636 499 446 291 278 332 518
</pre>
		</li>
		
		<li>
			The service should output the following JSON:

			<pre class="examplecode txt">
{
	name: &quot;Morgan&quot;,
	gender: &quot;m&quot;,
	rankings: [375, 410, 392, 478, 579, 507, 636, 499, 446, 291, 278, 332, 518]
}
</pre>
		</li>
	</ul>
</div>



<div class="slide">
	<h1>Emitting JSON data manually</h1>

	<pre class="examplecode php">
...
header(&quot;Content-type: application/json&quot;);
print &quot;{\n&quot;;
print &quot;  \&quot;books\&quot;: [\n&quot;;
foreach ($books as $book) {
	print &quot;  {\&quot;title\&quot;: \&quot;$title\&quot;}\n&quot;;
}
print &quot;]\n&quot;;
</pre>

	<ul>
		<li>
			specify a content type of <code>application/json</code>
		</li>
		<li>
			messy; bad to write JSON text using <code>print</code>s; write-only (hard to read existing JSON data)
		</li>
	</ul>
</div>



<div class="slide">
	<h1>PHP's JSON functions</h1>
	
	<p>
		PHP includes the following global functions for interacting with JSON data:
	</p>
	
	<table class="standard">
		<tr>
			<td>
				<a class="popup" href="http://www.php.net/manual/en/function.json-decode.php"><code>json_decode(<var>string</var>)</code></a>
			</td>
			<td>
				parses the given JSON data string and returns an equivalent associative array object (like <code>JSON.parse</code> in JavaScript)
			</td>
		</tr>
		<tr>
			<td>
				<a class="popup" href="http://www.php.net/manual/en/function.json-encode.php"><code>json_encode(<var>object</var>)</code></a>
			</td>
			<td>
				returns JSON equivalent for the given object or array or value (like <code>JSON.stringify</code> in JavaScript)
			</td>
		</tr>
	</table>
	
	<ul>
		<li>
			<code>json_encode</code> will output associative arrays as objects and normal arrays as arrays
		</li>
	</ul>
</div>



<div class="slide">
	<h1>PHP JSON example</h1>

	<pre class="examplecode php">
&lt;?php
$data = array(
	&quot;library&quot; =&gt; &quot;Odegaard&quot;,
	&quot;category&quot; =&gt; &quot;fantasy&quot;,
	&quot;year&quot; =&gt; 2012,
	&quot;books&quot; =&gt; array(
		array(&quot;title&quot; =&gt; &quot;Harry Potter&quot;, &quot;author&quot; =&gt; &quot;J.K. Rowling&quot;),
		array(&quot;title&quot; =&gt; &quot;The Hobbit&quot;, &quot;author&quot; =&gt; &quot;J.R.R. Tolkien&quot;),
		array(&quot;title&quot; =&gt; &quot;Game of Thrones&quot;, &quot;author&quot; =&gt; &quot;George R. R. Martin&quot;),
		array(&quot;title&quot; =&gt; &quot;Dragons of Krynn&quot;, &quot;author&quot; =&gt; &quot;Margaret Weis&quot;),
	)
);

header(&quot;Content-type: application/json&quot;);
print <em>json_encode($data)</em>;
?&gt;
</pre>
</div>



<div class="slide">
	<h1>PHP JSON example - output</h1>

	<pre class="examplecode json">
{
	&quot;library&quot;: &quot;Odegaard&quot;,
	&quot;category&quot;: &quot;fantasy&quot;,
	&quot;year&quot;: 2012,
	&quot;books&quot;: [
		{&quot;title&quot;: &quot;Harry Potter&quot;, &quot;author&quot;: &quot;J.K. Rowling&quot;},
		{&quot;title&quot;: &quot;The Hobbit&quot;, &quot;author&quot;: &quot;J.R.R. Tolkien&quot;},
		{&quot;title&quot;: &quot;Game of Thrones&quot;, &quot;author&quot;: &quot;George R. R. Martin&quot;},
		{&quot;title&quot;: &quot;Dragons of Krynn&quot;, &quot;author&quot;: &quot;Margaret Weis&quot;},
	]
}
</pre>
</div>



		</div><!-- end div class="presentation" -->
	</body>

<!-- Mirrored from selab.hanyang.ac.kr/courses/cse326/2019/lecture/13-webServices.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Nov 2019 07:39:31 GMT -->
</html>		